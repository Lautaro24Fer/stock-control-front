<div class="flow-container p-2">
	<h1>Productos</h1>
	<div class="container-fluid px-0">
		<form class="d-flex w-50" role="search">
			<input class="form-control me-2" type="search" placeholder="Buscar por producto, categoria, etc."
				aria-label="Search">
		</form>
	</div>
	<div class="d-flex flex-wrap gap-3 pt-3  w-100">
		<table class="table">
			<thead>
				<tr>
					<th scope="col">ID</th>
					<th scope="col">Name</th>
					<th scope="col">Price</th>
					<th scope="col">Stock</th>
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
				@for (item of currentPageData; track item.id) {
				<tr>
					<th scope="row">{{item.id}}</th>
					<td>{{item.name}}</td>
					<td>{{item.price | currency}}</td>
					<td>{{item.quantity}}</td>
					<td>
						<div class="d-flex gap-2">
							<button class="btn btn-primary"><i class="bi bi-pencil-square"></i></button>
							<button 
								class="btn btn-danger" 
								data-bs-toggle="modal" 
								data-bs-target="#deleteModal"
								[attr.data-product-id]="item.id"
								>
									<i class="bi bi-trash3"></i>
								</button>	
						</div>
					</td>
				</tr>
				}
			</tbody>
		</table>
		<app-pagination [totalPages]="totalPages" [currentPage]="currentPage" (pageChangeEvent)="onChangingPage($event)" />
	</div>
</div>

<!-- ESTA ES MI MODAL -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Delete product</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
				Are you sure to delete this product?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger">Delete</button>
      </div>
    </div>
  </div>
</div>